{"version":3,"sources":["common/dataProvider/dataProvider.js","../../../node_modules/antd/es/row/index.js","../../../node_modules/rc-switch/es/index.js","../../../node_modules/antd/es/switch/index.js","components/category/add-new/index.js","components/category/index.js"],"names":["categoryData","categoryNameEnglish","categoryNameMalayalam","image","status","isDeleted","priority","productData","_id","categoryId","active","productNameEnglish","productNameMalayalam","unit","actualPrice","sellingPrice","validity","startTime","endTime","description","locationData","location","Row","Switch","React","_ref","ref","_classNames","_ref$prefixCls","prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown","restProps","_objectWithoutProperties","_useMergedState","useMergedState","value","defaultValue","_useMergedState2","_slicedToArray","innerChecked","setInnerChecked","triggerChange","newChecked","event","mergedChecked","switchClassName","classNames","_defineProperty","concat","Object","assign","type","role","e","which","KeyCode","LEFT","RIGHT","ret","displayName","_extends","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","obj","defineProperty","enumerable","configurable","writable","__rest","s","t","p","indexOf","getOwnPropertySymbols","propertyIsEnumerable","_a","customizePrefixCls","customizeSize","size","loading","_a$className","props","devWarning","_React$useContext","ConfigContext","getPrefixCls","direction","SizeContext","LoadingOutlined","classes","Wave","insertExtraNode","RcSwitch","__ANT_SWITCH","visibility","handleCancel","handleSave","Form","useForm","form","useState","selectedFile","setSelectedFile","useEffect","setFieldsValue","visible","okText","onOk","getFieldsValue","validateFields","then","formValues","onCancel","closable","Item","name","label","rules","required","message","files","confirm","Modal","withRouter","history","completeLoading","setCompleteLoading","categoryList","setCategoryList","addModal","setAddModal","curreElement","setCurrentElement","httpProvider","getAction","res","categories","data","catch","err","notification","error","changeStatus","useCallback","id","protectedHttpProvider","postAction","item","deepClone","find","cat","index","findIndex","newList","formData","toFormData","category","success","push","columns","title","dataIndex","render","src","alt","editCategory","content","filter","danger","spinning","dataSource"],"mappings":"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","file":"static/js/7.a5e317be.chunk.js","sourcesContent":["export const categoryData = {\r\n    categoryNameEnglish: \"\",\r\n    categoryNameMalayalam: \"\",\r\n    image: null,\r\n    status: false,\r\n    isDeleted: false,\r\n    priority: null,\r\n};\r\n\r\nexport const productData = {\r\n    _id: null,\r\n    categoryId: null,\r\n    active: false,\r\n    productNameEnglish: \"\",\r\n    productNameMalayalam: \"\",\r\n    unit: \"1kg\",\r\n    actualPrice: \"\",\r\n    sellingPrice: \"\",\r\n    isDeleted: false,\r\n    validity: {\r\n        startTime: null,\r\n        endTime: null,\r\n    },\r\n    description: \"\",\r\n    image: null,\r\n    priority: null,\r\n};\r\n\r\nexport const locationData = {\r\n    _id: null,\r\n    active: false,\r\n    location: \"\",\r\n};\r\n","import { Row } from '../grid';\nexport default Row;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nvar Switch = React.forwardRef(function (_ref, ref) {\n  var _classNames;\n\n  var _ref$prefixCls = _ref.prefixCls,\n      prefixCls = _ref$prefixCls === void 0 ? 'rc-switch' : _ref$prefixCls,\n      className = _ref.className,\n      checked = _ref.checked,\n      defaultChecked = _ref.defaultChecked,\n      disabled = _ref.disabled,\n      loadingIcon = _ref.loadingIcon,\n      checkedChildren = _ref.checkedChildren,\n      unCheckedChildren = _ref.unCheckedChildren,\n      onClick = _ref.onClick,\n      onChange = _ref.onChange,\n      onKeyDown = _ref.onKeyDown,\n      restProps = _objectWithoutProperties(_ref, [\"prefixCls\", \"className\", \"checked\", \"defaultChecked\", \"disabled\", \"loadingIcon\", \"checkedChildren\", \"unCheckedChildren\", \"onClick\", \"onChange\", \"onKeyDown\"]);\n\n  var _useMergedState = useMergedState(false, {\n    value: checked,\n    defaultValue: defaultChecked\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      innerChecked = _useMergedState2[0],\n      setInnerChecked = _useMergedState2[1];\n\n  function triggerChange(newChecked, event) {\n    var mergedChecked = innerChecked;\n\n    if (!disabled) {\n      mergedChecked = newChecked;\n      setInnerChecked(mergedChecked);\n      onChange === null || onChange === void 0 ? void 0 : onChange(mergedChecked, event);\n    }\n\n    return mergedChecked;\n  }\n\n  function onInternalKeyDown(e) {\n    if (e.which === KeyCode.LEFT) {\n      triggerChange(false, e);\n    } else if (e.which === KeyCode.RIGHT) {\n      triggerChange(true, e);\n    }\n\n    onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(e);\n  }\n\n  function onInternalClick(e) {\n    var ret = triggerChange(!innerChecked, e); // [Legacy] trigger onClick with value\n\n    onClick === null || onClick === void 0 ? void 0 : onClick(ret, e);\n  }\n\n  var switchClassName = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-checked\"), innerChecked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _classNames));\n  return React.createElement(\"button\", Object.assign({}, restProps, {\n    type: \"button\",\n    role: \"switch\",\n    \"aria-checked\": innerChecked,\n    disabled: disabled,\n    className: switchClassName,\n    ref: ref,\n    onKeyDown: onInternalKeyDown,\n    onClick: onInternalClick\n  }), loadingIcon, React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-inner\")\n  }, innerChecked ? checkedChildren : unCheckedChildren));\n});\nSwitch.displayName = 'Switch';\nexport default Switch;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcSwitch from 'rc-switch';\nimport classNames from 'classnames';\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined';\nimport Wave from '../_util/wave';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\nimport devWarning from '../_util/devWarning';\nvar Switch = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      customizeSize = _a.size,\n      loading = _a.loading,\n      _a$className = _a.className,\n      className = _a$className === void 0 ? '' : _a$className,\n      disabled = _a.disabled,\n      props = __rest(_a, [\"prefixCls\", \"size\", \"loading\", \"className\", \"disabled\"]);\n\n  devWarning('checked' in props || !('value' in props), 'Switch', '`value` is not a valid prop, do you mean `checked`?');\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n  var prefixCls = getPrefixCls('switch', customizePrefixCls);\n  var loadingIcon = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-handle\")\n  }, loading && /*#__PURE__*/React.createElement(LoadingOutlined, {\n    className: \"\".concat(prefixCls, \"-loading-icon\")\n  }));\n  var classes = classNames(className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-small\"), (customizeSize || size) === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames));\n  return /*#__PURE__*/React.createElement(Wave, {\n    insertExtraNode: true\n  }, /*#__PURE__*/React.createElement(RcSwitch, _extends({}, props, {\n    prefixCls: prefixCls,\n    className: classes,\n    disabled: disabled || loading,\n    ref: ref,\n    loadingIcon: loadingIcon\n  })));\n});\nSwitch.__ANT_SWITCH = true;\nSwitch.displayName = 'Switch';\nexport default Switch;","import React, { useEffect, useState } from \"react\";\r\nimport { Modal, Input, Button, Form, Upload } from \"antd\";\r\n\r\nexport default function ({ visibility, handleCancel, handleSave, value }) {\r\n    const [form] = Form.useForm();\r\n    const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const { setFieldsValue } = form;\r\n        setFieldsValue({ ...value });\r\n    }, [value, form]);\r\n    /**\r\n     * take formValue and merge with formValues\r\n     */\r\n    const handleAdd = () => {\r\n        const { getFieldsValue, validateFields } = form;\r\n        validateFields().then(() => {\r\n            const formValues = getFieldsValue();\r\n\r\n            handleSave({\r\n                ...value,\r\n                ...formValues,\r\n                image: selectedFile,\r\n            });\r\n        });\r\n    };\r\n\r\n    const handleImageUplaod = (event) => {\r\n        setSelectedFile(event.target.files[0]);\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            visible={visibility}\r\n            okText={value._id ? `Save` : `Add`}\r\n            onOk={handleAdd}\r\n            onCancel={handleCancel}\r\n            closable={false}\r\n        >\r\n            <Form form={form}>\r\n                <Form.Item\r\n                    name={[\"categoryNameEnglish\"]}\r\n                    label=\"Category name in English\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: \"name is rquired\",\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name={[\"categoryNameMalayalam\"]}\r\n                    label=\"Category name in Malayalam\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: \"name is rquired\",\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name={[\"priority\"]}\r\n                    label=\"Displaying Priority\"\r\n                >\r\n                    <Input />\r\n                </Form.Item>\r\n                <input type=\"file\" onChange={handleImageUplaod} />\r\n            </Form>\r\n        </Modal>\r\n    );\r\n}\r\n","import React, { useEffect, useState, useCallback } from \"react\";\r\nimport { Table, Switch, Button, notification, Spin, Modal, Row } from \"antd\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { categoryData } from \"../../common/dataProvider/dataProvider\";\r\nimport { deepClone, toFormData } from \"../../common/helper/commonMethods\";\r\nimport { protectedHttpProvider, httpProvider } from \"../../common/http\";\r\nimport { SERVER } from \"../../environments/Environments\";\r\nimport AddNew from \"./add-new\";\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default withRouter(function (props) {\r\n    const { history } = props;\r\n    const [completeLoading, setCompleteLoading] = useState(true);\r\n    const [categoryList, setCategoryList] = useState([]);\r\n    const [addModal, setAddModal] = useState(false);\r\n    const [curreElement, setCurrentElement] = useState(null);\r\n\r\n    useEffect(() => {\r\n        httpProvider\r\n            .getAction(\"api/v1/category/all\")\r\n            .then((res) => {\r\n                const { categories } = res.data;\r\n                setCategoryList([...categories]);\r\n                setCompleteLoading(false);\r\n            })\r\n            .catch((err) => {\r\n                notification.error({\r\n                    message: \"Error while fetching categories please refresh\",\r\n                });\r\n                setCompleteLoading(false);\r\n            });\r\n    }, []);\r\n    /**\r\n     *\r\n     * @param {*String} id category id\r\n     */\r\n    const changeStatus = useCallback(\r\n        (id, value) => {\r\n            setCompleteLoading(true);\r\n            protectedHttpProvider\r\n                .postAction(`api/v1/category/update/${id}`, { active: value })\r\n                .then((res) => {\r\n                    let item = [...deepClone(categoryList)].find(\r\n                        (cat) => cat._id === id\r\n                    );\r\n                    const index = [...deepClone(categoryList)].findIndex(\r\n                        (cat) => cat._id === id\r\n                    );\r\n                    item.active = value;\r\n                    const newList = [...deepClone(categoryList)];\r\n                    newList[index] = item;\r\n                    setCategoryList([...newList]);\r\n                    setCompleteLoading(false);\r\n                })\r\n                .catch((err) => {\r\n                    notification.error({\r\n                        message: \"Error while updating status\",\r\n                    });\r\n                    setCompleteLoading(false);\r\n                });\r\n        },\r\n        [categoryList]\r\n    );\r\n    /**\r\n     *\r\n     * @param {*String} id category id\r\n     */\r\n    const deleteCategory = (id) => {\r\n        confirm({\r\n            title: \"Please remove all products before deleting Category\",\r\n            // icon: <ExclamationCircleOutlined />,\r\n            content: (\r\n                <>\r\n                    <Row>\r\n                        Deleting Category with products will messed up Database\r\n                    </Row>\r\n                    <Row>Otherwise disable it</Row>\r\n                </>\r\n            ),\r\n            onOk() {\r\n                setCompleteLoading(true);\r\n                protectedHttpProvider\r\n                    .postAction(`api/v1/category/delete/${id}`, {})\r\n                    .then((res) => {\r\n                        if (res.status === 200) {\r\n                            notification.success({\r\n                                message: \"Category deleted successfully\",\r\n                            });\r\n                            const newList = [...deepClone(categoryList)].filter(\r\n                                (cat) => cat._id !== id\r\n                            );\r\n                            setCategoryList(newList);\r\n                            setCompleteLoading(false);\r\n                        }\r\n                    })\r\n                    .catch((err) => {\r\n                        notification.error({\r\n                            message: \"Error while deleting category\",\r\n                        });\r\n                        setCompleteLoading(false);\r\n                    });\r\n            },\r\n            onCancel() { },\r\n        });\r\n    };\r\n    /**\r\n     * to add category get initial data\r\n     * and set to current in order to get it in add modal\r\n     */\r\n    const addCategory = () => {\r\n        setCurrentElement(deepClone(categoryData));\r\n        setAddModal(true);\r\n    };\r\n\r\n    const editCategory = (id) => {\r\n        const item = [...deepClone(categoryList)].find((cat) => cat._id === id);\r\n        setCurrentElement({ ...item });\r\n        setAddModal(true);\r\n    };\r\n    /**\r\n     * if _id exists thent it is edit\r\n     * otherwise save\r\n     * @param {*Objcet} data full category data\r\n     */\r\n    const handleSave = useCallback(\r\n        (data) => {\r\n            setAddModal(false);\r\n            setCompleteLoading(true);\r\n            const newList = [...deepClone(categoryList)];\r\n            if (data._id) {\r\n                const formData = toFormData(data);\r\n                protectedHttpProvider\r\n                    .postAction(`api/v1/category/${data._id}`, formData)\r\n                    .then((res) => {\r\n                        const { category } = res.data;\r\n                        // editting category in local\r\n                        const index = categoryList.findIndex(\r\n                            (cat) => cat._id === category._id\r\n                        );\r\n                        newList[index] = { ...category };\r\n                        setCategoryList([...newList]);\r\n                        // setAddModal(false);\r\n\r\n                        notification.success({\r\n                            message: \"Category Editted successfully\",\r\n                        });\r\n                        setCompleteLoading(false);\r\n                    })\r\n                    .catch((err) => {\r\n                        notification.error({\r\n                            message: \"Error while Editting category\",\r\n                        });\r\n                        // setAddModal(false);\r\n                        setCurrentElement(null);\r\n                        setCompleteLoading(false);\r\n                    });\r\n            } else {\r\n                const formData = toFormData(data);\r\n                protectedHttpProvider\r\n                    .postAction(\"api/v1/category\", formData)\r\n                    .then((res) => {\r\n                        const { category } = res.data;\r\n                        notification.success({\r\n                            message: \"Category added successfully\",\r\n                        });\r\n                        // setting to local\r\n                        newList.push({ ...category });\r\n                        setCategoryList([...newList]);\r\n                        // setAddModal(false);\r\n                        setCompleteLoading(false);\r\n                    })\r\n                    .catch((err) => {\r\n                        notification.error({\r\n                            message: \"Error while Adding category\",\r\n                        });\r\n                        // setAddModal(false);\r\n                        setCurrentElement(null);\r\n                        setCompleteLoading(false);\r\n                    });\r\n            }\r\n        },\r\n        [categoryList]\r\n    );\r\n\r\n    const handleCancel = () => {\r\n        setAddModal(false);\r\n        setCurrentElement(null);\r\n    };\r\n\r\n    const columns = [\r\n        {\r\n            title: \"Status\",\r\n            dataIndex: \"active\",\r\n            key: \"active\",\r\n            render: (item, data) => (\r\n                <Switch\r\n                    checked={item}\r\n                    onClick={(value) => changeStatus(data._id, value)}\r\n                />\r\n            ),\r\n        },\r\n        {\r\n            title: \"Category(English)\",\r\n            dataIndex: \"categoryNameEnglish\",\r\n            key: \"categoryNameEnglish\",\r\n            render: (item, data) => (\r\n                <span onClick={() => history.push(`/products/${data._id}`)}>\r\n                    {item}\r\n                </span>\r\n            ),\r\n        },\r\n        {\r\n            title: \"Category(Malayalam)\",\r\n            dataIndex: \"categoryNameMalayalam\",\r\n            key: \"categoryNameMalayalam\",\r\n            render: (item, data) => (\r\n                <span onClick={() => history.push(`/products/${data._id}`)}>\r\n                    {item}\r\n                </span>\r\n            ),\r\n        },\r\n        {\r\n            title: \"priority\",\r\n            dataIndex: \"priority\",\r\n            key: \"priority\",\r\n            render: (item) => (\r\n                <span >\r\n                    {item}\r\n                </span>\r\n            ),\r\n        },\r\n        {\r\n            title: \"Image\",\r\n            dataIndex: \"image\",\r\n            key: \"image\",\r\n            render: (item) => (\r\n                <img className=\"image\" src={`${item}`} alt={item} />\r\n            ),\r\n        },\r\n        {\r\n            title: \"\",\r\n            dataIndex: \"_id\",\r\n            key: \"_id\",\r\n            render: (data) => (\r\n                <Button\r\n                    className=\"edit-button\"\r\n                    onClick={() => editCategory(data)}\r\n                >\r\n                    Edit\r\n                </Button>\r\n            ),\r\n        },\r\n        {\r\n            title: \"\",\r\n            dataIndex: \"_id\",\r\n            key: \"_id\",\r\n            render: (data) => (\r\n                <Button\r\n                    onClick={() => deleteCategory(data)}\r\n                    type=\"primary\"\r\n                    danger\r\n                >\r\n                    Delete\r\n                </Button>\r\n            ),\r\n        },\r\n    ];\r\n    return (\r\n        <Spin size=\"large\" spinning={completeLoading}>\r\n            <div className=\"items-list\">\r\n                <div className=\"add-button\">\r\n                    <Button type=\"primary\" onClick={addCategory}>\r\n                        + Add New\r\n                    </Button>\r\n                </div>\r\n                {addModal && (\r\n                    <AddNew\r\n                        visibility={addModal}\r\n                        handleCancel={handleCancel}\r\n                        value={curreElement}\r\n                        handleSave={handleSave}\r\n                    />\r\n                )}\r\n                <div className=\"list-table\">\r\n                    <Table\r\n                        dataSource={deepClone(categoryList)}\r\n                        columns={columns}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </Spin>\r\n    );\r\n});\r\n"],"sourceRoot":""}