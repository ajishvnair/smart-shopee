(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[8],{377:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return i}));var n={categoryNameEnglish:"",categoryNameMalayalam:"",image:null,status:!1,isDeleted:!1,priority:null},c={_id:null,categoryId:null,active:!1,productNameEnglish:"",productNameMalayalam:"",unit:"1kg",actualPrice:"",sellingPrice:"",isDeleted:!1,validity:{startTime:null,endTime:null},description:"",image:null,priority:null},i={_id:null,active:!1,location:""}},603:function(e,t,a){"use strict";var n=a(0),c=a(2),i=a(30),r=a(31),l=a(1),o=a.n(l),s=a(360),u=a(28),d=n.forwardRef((function(e,t){var a,l=e.prefixCls,d=void 0===l?"rc-switch":l,f=e.className,b=e.checked,m=e.defaultChecked,v=e.disabled,h=e.loadingIcon,O=e.checkedChildren,p=e.unCheckedChildren,g=e.onClick,y=e.onChange,j=e.onKeyDown,E=Object(r.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),C=Object(s.a)(!1,{value:b,defaultValue:m}),k=Object(i.a)(C,2),w=k[0],N=k[1];function x(e,t){var a=w;return v||(N(a=e),null===y||void 0===y||y(a,t)),a}var _=o()(d,f,(a={},Object(c.a)(a,"".concat(d,"-checked"),w),Object(c.a)(a,"".concat(d,"-disabled"),v),a));return n.createElement("button",Object.assign({},E,{type:"button",role:"switch","aria-checked":w,disabled:v,className:_,ref:t,onKeyDown:function(e){e.which===u.a.LEFT?x(!1,e):e.which===u.a.RIGHT&&x(!0,e),null===j||void 0===j||j(e)},onClick:function(e){var t=x(!w,e);null===g||void 0===g||g(t,e)}}),h,n.createElement("span",{className:"".concat(d,"-inner")},w?O:p))}));d.displayName="Switch";var f=d,b=a(36),m=a.n(b),v=a(104),h=a(94),O=a(33),p=a(18);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var j=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},E=n.forwardRef((function(e,t){var a,c=e.prefixCls,i=e.size,r=e.loading,l=e.className,s=void 0===l?"":l,u=e.disabled,d=j(e,["prefixCls","size","loading","className","disabled"]);Object(p.a)("checked"in d||!("value"in d),"Switch","`value` is not a valid prop, do you mean `checked`?");var b=n.useContext(h.b),E=b.getPrefixCls,C=b.direction,k=n.useContext(O.b),w=E("switch",c),N=n.createElement("div",{className:"".concat(w,"-handle")},r&&n.createElement(m.a,{className:"".concat(w,"-loading-icon")})),x=o()(s,(y(a={},"".concat(w,"-small"),"small"===(i||k)),y(a,"".concat(w,"-loading"),r),y(a,"".concat(w,"-rtl"),"rtl"===C),a));return n.createElement(v.a,{insertExtraNode:!0},n.createElement(f,g({},d,{prefixCls:w,className:x,disabled:u||r,ref:t,loadingIcon:N})))}));E.__ANT_SWITCH=!0,E.displayName="Switch";t.a=E},864:function(e,t,a){"use strict";a.r(t);var n=a(99),c=a(419),i=a(42),r=a(0),l=a.n(r),o=a(860),s=a(603),u=a(82),d=a(339),f=a(856),b=a(16),m=a(377),v=a(44),h=a(63),O=a(340),p=a(859),g=a(341),y=function(e){var t=e.visibility,a=e.handleCancel,c=e.handleSave,o=e.value,s=O.a.useForm(),u=Object(i.a)(s,1)[0];Object(r.useEffect)((function(){(0,u.setFieldsValue)(Object(n.a)({},o))}),[o,u]);return l.a.createElement(p.a,{visible:t,okText:o._id?"Save":"Add",onOk:function(){var e=u.getFieldsValue;(0,u.validateFields)().then((function(){var t=e();c(Object(n.a)(Object(n.a)({},o),t))}))},onCancel:a,closable:!1},l.a.createElement(O.a,{form:u},l.a.createElement(O.a.Item,{name:["location"],label:"Location",rules:[{required:!0,message:"location is rquired"}]},l.a.createElement(g.a,null)),l.a.createElement(O.a.Item,{name:["deliveryCharge"],label:"Delivery Charge",rules:[{required:!0,message:"Delivery Charge is required"}]},l.a.createElement(g.a,null)),l.a.createElement(O.a.Item,{name:["deliveryTime"],label:"Delivery Time",rules:[{required:!0,message:"Delivery Time is required"}]},l.a.createElement(g.a,null))))};t.default=Object(b.f)((function(e){e.history;var t=Object(r.useState)([]),a=Object(i.a)(t,2),b=a[0],O=a[1],p=Object(r.useState)(!1),g=Object(i.a)(p,2),j=g[0],E=g[1],C=Object(r.useState)({}),k=Object(i.a)(C,2),w=k[0],N=k[1],x=Object(r.useState)(!0),_=Object(i.a)(x,2),I=_[0],S=_[1];Object(r.useEffect)((function(){h.a.getAction("/api/v1/location/all").then((function(e){var t=e.data.locations;O(Object(c.a)(t)),S(!1)})).catch((function(e){o.a.error({message:"Error while fetching categories please refresh"}),S(!1)}))}),[]);var D=Object(r.useCallback)((function(e,t){S(!0),h.b.postAction("api/v1/location/update/".concat(e),{active:t}).then((function(a){var n=Object(c.a)(Object(v.a)(b)).find((function(t){return t._id===e})),i=Object(c.a)(Object(v.a)(b)).findIndex((function(t){return t._id===e}));n.active=t;var r=Object(c.a)(Object(v.a)(b));r[i]=n,O(Object(c.a)(r)),S(!1)})).catch((function(e){o.a.error({message:"Error while updating status"}),S(!1)}))}),[b]),T=Object(r.useCallback)((function(e){S(!0),h.b.postAction("api/v1/location/delete/".concat(e),{}).then((function(t){if(200===t.status){o.a.success({message:"Location deleted successfully"});var a=Object(c.a)(Object(v.a)(b)).filter((function(t){return t._id!==e}));O(a),S(!1)}})).catch((function(e){o.a.error({message:"Error while deleting location"}),S(!1)}))}),[b]),A=Object(r.useCallback)((function(e){E(!1),S(!0);var t=Object(c.a)(Object(v.a)(b));e._id?h.b.postAction("api/v1/location/".concat(e._id),e).then((function(e){var a=e.data.location,i=b.findIndex((function(e){return e._id===a._id}));t[i]=Object(n.a)({},a),O(Object(c.a)(t)),o.a.success({message:"Location Editted successfully"}),S(!1)})).catch((function(e){o.a.error({message:"Error while Editting location"}),N(null),S(!1)})):h.b.postAction("/api/v1/location",e).then((function(e){var a=e.data.location;o.a.success({message:"Location added successfully"}),O([a].concat(Object(c.a)(t))),S(!1)})).catch((function(e){o.a.error({message:"Error while Adding category"}),N(null),S(!1)}))}),[b]),P=[{title:"Status",dataIndex:"active",key:"active",render:function(e,t){return l.a.createElement(s.a,{checked:e,onClick:function(e){return D(t._id,e)}})}},{title:"Location",dataIndex:"location",key:"location"},{title:"Delivery Charge",dataIndex:"deliveryCharge",key:"charge",render:function(e){return l.a.createElement("span",null,"".concat(e," Rs"))}},{title:"Delivery Time",dataIndex:"deliveryTime",key:"time",render:function(e){return l.a.createElement("span",null,"".concat(e," Hours"))}},{title:"",dataIndex:"_id",key:"_id",render:function(e){return l.a.createElement(u.a,{className:"edit-button",onClick:function(){return function(e){var t=Object(c.a)(Object(v.a)(b)).find((function(t){return t._id===e}));N(Object(n.a)({},t)),E(!0)}(e)}},"Edit")}},{title:"",dataIndex:"_id",key:"_id",render:function(e){return l.a.createElement(u.a,{onClick:function(){return T(e)},type:"primary",danger:!0},"Delete")}}];return l.a.createElement(d.a,{spinning:I,size:"large"},l.a.createElement("div",{className:"items-list"},l.a.createElement("div",{className:"add-button"},l.a.createElement(u.a,{type:"primary",onClick:function(){N(Object(v.a)(m.b)),E(!0)}},"+ Add New")),j&&l.a.createElement(y,{visibility:j,handleCancel:function(){E(!1),N(null)},value:w,handleSave:A}),l.a.createElement("div",{className:"list-table"},l.a.createElement(f.a,{dataSource:Object(v.a)(b),columns:P}))))}))}}]);
//# sourceMappingURL=8.77df52ac.chunk.js.map